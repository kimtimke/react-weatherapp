{"ast":null,"code":"import _slicedToArray from\"/Users/Kimseebach/Downloads/react-weatheapp/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import WeatherInfo from\"./WeatherInfo\";import FormattedDate from\"./FormattedDate\";import axios from\"axios\";import\"./Weather.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Weather(props){var _useState=useState({ready:false}),_useState2=_slicedToArray(_useState,2),weatherData=_useState2[0],setWeatherData=_useState2[1];var _useState3=useState(props.defaultCity),_useState4=_slicedToArray(_useState3,2),city=_useState4[0],setCity=_useState4[1];function handleResponse(response){setWeatherData({ready:true,temperature:response.data.main.temp,humidity:response.data.main.humidity,wind:response.data.wind.speed,city:response.data.name,description:response.data.weather[0].description,date:new Date(response.data.dt*1000),icon:response.data.weather[0].icon});}function search(){var apiKey=\"6950fb0a1f88f981260fcceba2a5d047\";var apiUrl=\"https://api.openweathermap.org/data/2.5/weather?q=\".concat(city,\"&appid=\").concat(apiKey,\"&units=metric\");axios.get(apiUrl).then(handleResponse);}function handleSubmit(event){event.preventDefault();search();}function handleCityChange(event){setCity(event.target.value);}if(weatherData.ready){return/*#__PURE__*/_jsxs(\"div\",{className:\"Weather\",children:[/*#__PURE__*/_jsx(\"h1\",{children:weatherData.city}),/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(FormattedDate,{date:weatherData.date})}),/*#__PURE__*/_jsx(\"li\",{className:\"text-capitalize\",children:weatherData.description})]}),/*#__PURE__*/_jsx(\"form\",{onSubmit:handleSubmit,children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-9\",children:/*#__PURE__*/_jsx(\"input\",{type:\"search\",placeholder:\"Type a city..\",className:\"form-control\",autoFocus:\"on\",autocomplete:\"off\",onChange:handleCityChange})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-3\",children:/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Search\",className:\"btn btn-primary w-100\"})})]})}),/*#__PURE__*/_jsx(WeatherInfo,{data:weatherData})]});}else{search();return\"Loading...\";}}","map":{"version":3,"names":["React","useState","WeatherInfo","FormattedDate","axios","Weather","props","ready","weatherData","setWeatherData","defaultCity","city","setCity","handleResponse","response","temperature","data","main","temp","humidity","wind","speed","name","description","weather","date","Date","dt","icon","search","apiKey","apiUrl","get","then","handleSubmit","event","preventDefault","handleCityChange","target","value"],"sources":["/Users/Kimseebach/Downloads/react-weatheapp/src/Weather.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport WeatherInfo from \"./WeatherInfo\";\nimport FormattedDate from \"./FormattedDate\";\nimport axios from \"axios\";\nimport \"./Weather.css\";\n\nexport default function Weather(props) {\n  const [weatherData, setWeatherData] = useState({ ready: false });\n  const [city, setCity] = useState(props.defaultCity);\n  function handleResponse(response) {\n    setWeatherData({\n      ready: true,\n      temperature: response.data.main.temp,\n      humidity: response.data.main.humidity,\n      wind: response.data.wind.speed,\n      city: response.data.name,\n      description: response.data.weather[0].description,\n      date: new Date(response.data.dt * 1000),\n\n      icon: response.data.weather[0].icon,\n    });\n  }\n\n  function search() {\n    const apiKey = \"6950fb0a1f88f981260fcceba2a5d047\";\n\n    let apiUrl = `https://api.openweathermap.org/data/2.5/weather?q=${city}&appid=${apiKey}&units=metric`;\n    axios.get(apiUrl).then(handleResponse);\n  }\n\n  function handleSubmit(event) {\n    event.preventDefault();\n    search();\n  }\n\n  function handleCityChange(event) {\n    setCity(event.target.value);\n  }\n\n  if (weatherData.ready) {\n    return (\n      <div className=\"Weather\">\n        <h1>{weatherData.city}</h1>\n        <ul>\n          <li>\n            <FormattedDate date={weatherData.date} />\n          </li>\n          <li className=\"text-capitalize\">{weatherData.description}</li>\n        </ul>\n        <form onSubmit={handleSubmit}>\n          <div className=\"row\">\n            <div className=\"col-9\">\n              <input\n                type=\"search\"\n                placeholder=\"Type a city..\"\n                className=\"form-control\"\n                autoFocus=\"on\"\n                autocomplete=\"off\"\n                onChange={handleCityChange}\n              />\n            </div>\n            <div className=\"col-3\">\n              <input\n                type=\"submit\"\n                value=\"Search\"\n                className=\"btn btn-primary w-100\"\n              />\n            </div>\n          </div>\n        </form>\n        <WeatherInfo data={weatherData} />\n      </div>\n    );\n  } else {\n    search();\n    return \"Loading...\";\n  }\n}\n"],"mappings":"iIAAA,MAAOA,MAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,MAAOC,YAAW,KAAM,eAAe,CACvC,MAAOC,cAAa,KAAM,iBAAiB,CAC3C,MAAOC,MAAK,KAAM,OAAO,CACzB,MAAO,eAAe,CAAC,wFAEvB,cAAe,SAASC,QAAO,CAACC,KAAK,CAAE,CACrC,cAAsCL,QAAQ,CAAC,CAAEM,KAAK,CAAE,KAAM,CAAC,CAAC,wCAAzDC,WAAW,eAAEC,cAAc,eAClC,eAAwBR,QAAQ,CAACK,KAAK,CAACI,WAAW,CAAC,yCAA5CC,IAAI,eAAEC,OAAO,eACpB,QAASC,eAAc,CAACC,QAAQ,CAAE,CAChCL,cAAc,CAAC,CACbF,KAAK,CAAE,IAAI,CACXQ,WAAW,CAAED,QAAQ,CAACE,IAAI,CAACC,IAAI,CAACC,IAAI,CACpCC,QAAQ,CAAEL,QAAQ,CAACE,IAAI,CAACC,IAAI,CAACE,QAAQ,CACrCC,IAAI,CAAEN,QAAQ,CAACE,IAAI,CAACI,IAAI,CAACC,KAAK,CAC9BV,IAAI,CAAEG,QAAQ,CAACE,IAAI,CAACM,IAAI,CACxBC,WAAW,CAAET,QAAQ,CAACE,IAAI,CAACQ,OAAO,CAAC,CAAC,CAAC,CAACD,WAAW,CACjDE,IAAI,CAAE,GAAIC,KAAI,CAACZ,QAAQ,CAACE,IAAI,CAACW,EAAE,CAAG,IAAI,CAAC,CAEvCC,IAAI,CAAEd,QAAQ,CAACE,IAAI,CAACQ,OAAO,CAAC,CAAC,CAAC,CAACI,IACjC,CAAC,CAAC,CACJ,CAEA,QAASC,OAAM,EAAG,CAChB,GAAMC,OAAM,CAAG,kCAAkC,CAEjD,GAAIC,OAAM,6DAAwDpB,IAAI,mBAAUmB,MAAM,iBAAe,CACrG1B,KAAK,CAAC4B,GAAG,CAACD,MAAM,CAAC,CAACE,IAAI,CAACpB,cAAc,CAAC,CACxC,CAEA,QAASqB,aAAY,CAACC,KAAK,CAAE,CAC3BA,KAAK,CAACC,cAAc,EAAE,CACtBP,MAAM,EAAE,CACV,CAEA,QAASQ,iBAAgB,CAACF,KAAK,CAAE,CAC/BvB,OAAO,CAACuB,KAAK,CAACG,MAAM,CAACC,KAAK,CAAC,CAC7B,CAEA,GAAI/B,WAAW,CAACD,KAAK,CAAE,CACrB,mBACE,aAAK,SAAS,CAAC,SAAS,wBACtB,oBAAKC,WAAW,CAACG,IAAI,EAAM,cAC3B,mCACE,iCACE,KAAC,aAAa,EAAC,IAAI,CAAEH,WAAW,CAACiB,IAAK,EAAG,EACtC,cACL,WAAI,SAAS,CAAC,iBAAiB,UAAEjB,WAAW,CAACe,WAAW,EAAM,GAC3D,cACL,aAAM,QAAQ,CAAEW,YAAa,uBAC3B,aAAK,SAAS,CAAC,KAAK,wBAClB,YAAK,SAAS,CAAC,OAAO,uBACpB,cACE,IAAI,CAAC,QAAQ,CACb,WAAW,CAAC,eAAe,CAC3B,SAAS,CAAC,cAAc,CACxB,SAAS,CAAC,IAAI,CACd,YAAY,CAAC,KAAK,CAClB,QAAQ,CAAEG,gBAAiB,EAC3B,EACE,cACN,YAAK,SAAS,CAAC,OAAO,uBACpB,cACE,IAAI,CAAC,QAAQ,CACb,KAAK,CAAC,QAAQ,CACd,SAAS,CAAC,uBAAuB,EACjC,EACE,GACF,EACD,cACP,KAAC,WAAW,EAAC,IAAI,CAAE7B,WAAY,EAAG,GAC9B,CAEV,CAAC,IAAM,CACLqB,MAAM,EAAE,CACR,MAAO,YAAY,CACrB,CACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}